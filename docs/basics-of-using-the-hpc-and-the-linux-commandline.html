<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Part 2 Basics of using the HPC and the Linux commandline | Introduction to Linux for the HPC</title>
  <meta name="description" content="A book for the Introduction to Linux for the HPC workshop." />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Part 2 Basics of using the HPC and the Linux commandline | Introduction to Linux for the HPC" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A book for the Introduction to Linux for the HPC workshop." />
  <meta name="github-repo" content="vari-bbc/Intro_to_Linux_for_HPC" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Part 2 Basics of using the HPC and the Linux commandline | Introduction to Linux for the HPC" />
  
  <meta name="twitter:description" content="A book for the Introduction to Linux for the HPC workshop." />
  

<meta name="author" content="BBC" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="hpc-basics-and-the-job-scheduler.html"/>
<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="assets/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#workshop-organizers"><i class="fa fa-check"></i><b>1.1</b> Workshop organizers</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html"><i class="fa fa-check"></i><b>2</b> Basics of using the HPC and the Linux commandline</a><ul>
<li class="chapter" data-level="2.1" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html#ex-1-log-into-the-hpc"><i class="fa fa-check"></i><b>2.1</b> Ex 1 Log into the HPC</a></li>
<li class="chapter" data-level="2.2" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html#commands-you-need-to-learn-for-ex2"><i class="fa fa-check"></i><b>2.2</b> Commands you need to learn for Ex2:</a></li>
<li class="chapter" data-level="2.3" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html#ex2-file-navigation"><i class="fa fa-check"></i><b>2.3</b> Ex2: file navigation</a></li>
<li class="chapter" data-level="2.4" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html#commands-you-need-to-learn-for-ex-3"><i class="fa fa-check"></i><b>2.4</b> Commands you need to learn for Ex 3</a><ul>
<li class="chapter" data-level="2.4.1" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html#so-what-is-pipe"><i class="fa fa-check"></i><b>2.4.1</b> So, what is pipe?</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html#exercise-3-file-viewing-and-manipulation"><i class="fa fa-check"></i><b>2.5</b> Exercise 3: File viewing and manipulation</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="hpc-basics-and-the-job-scheduler.html"><a href="hpc-basics-and-the-job-scheduler.html"><i class="fa fa-check"></i><b>3</b> HPC basics and the job scheduler</a></li>
<li class="chapter" data-level="4" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html"><i class="fa fa-check"></i><b>4</b> A toy bioinformatics project</a><ul>
<li class="chapter" data-level="4.1" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html#navigate-to-your-research-groups-folder-and-see-whats-there"><i class="fa fa-check"></i><b>4.1</b> Navigate to your research group’s folder and see what’s there</a></li>
<li class="chapter" data-level="4.2" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html#create-project-directory-and-navgiate-into-it"><i class="fa fa-check"></i><b>4.2</b> Create project directory and navgiate into it</a></li>
<li class="chapter" data-level="4.3" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html#copy-fastqs-to-working-directory"><i class="fa fa-check"></i><b>4.3</b> Copy fastqs to working directory</a></li>
<li class="chapter" data-level="4.4" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html#check-that-the-files-transferred-properly"><i class="fa fa-check"></i><b>4.4</b> Check that the files transferred properly</a></li>
<li class="chapter" data-level="4.5" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html#use-zcat-to-take-a-look-into-fastq.gz-files-usually-we-do-not-do-this"><i class="fa fa-check"></i><b>4.5</b> Use zcat to take a look into fastq.gz files (usually we do not do this)</a></li>
<li class="chapter" data-level="4.6" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html#run-fastqc-or-zcat-wc--l-to-count-how-many-reads"><i class="fa fa-check"></i><b>4.6</b> Run fastqc or zcat {} | wc -l to count how many reads</a></li>
<li class="chapter" data-level="4.7" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html#how-to-see-what-packages-are-installed-on-hpc.-use-grep."><i class="fa fa-check"></i><b>4.7</b> How to see what packages are installed on HPC. Use grep.</a></li>
<li class="chapter" data-level="4.8" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html#set-up-a-job-to-run-salmon"><i class="fa fa-check"></i><b>4.8</b> Set up a job to run Salmon</a></li>
<li class="chapter" data-level="4.9" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html#use-qstat-to-check-on-the-job"><i class="fa fa-check"></i><b>4.9</b> Use qstat to check on the job</a></li>
<li class="chapter" data-level="4.10" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html#check-the-job-logs-to-see-if-job-finished-running"><i class="fa fa-check"></i><b>4.10</b> Check the job logs to see if job finished running</a></li>
<li class="chapter" data-level="4.11" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html#use-grep-to-find-the-tpms-for-specific-genes"><i class="fa fa-check"></i><b>4.11</b> Use grep to find the TPMs for specific genes</a></li>
<li class="chapter" data-level="4.12" data-path="a-toy-bioinformatics-project.html"><a href="a-toy-bioinformatics-project.html#transfer-read-counts-table-to-laptopdesktop-to-view-in-excel"><i class="fa fa-check"></i><b>4.12</b> Transfer read counts table to laptop/desktop to view in Excel</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Linux for the HPC</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basics-of-using-the-hpc-and-the-linux-commandline" class="section level1 hasAnchor">
<h1><span class="header-section-number">Part 2</span> Basics of using the HPC and the Linux commandline<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#basics-of-using-the-hpc-and-the-linux-commandline" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Here we will learn the basics of using the Linux commandline on the HPC.</p>
<div id="ex-1-log-into-the-hpc" class="section level2 hasAnchor">
<h2><span class="header-section-number">2.1</span> Ex 1 Log into the HPC<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#ex-1-log-into-the-hpc" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Step 1.</strong> Make sure you are on the VAI network, not VAI guest.</p>
<p><strong>Step 2.</strong>
- For Mac user: open terminal, type <code>ssh you_vai_user_name@submit.hpc.vai</code>, and type your password.
- For Windows user, open MobarXterm, click new session under “Session”.
Click on “SSH”, type “submit.hpc.vai.org” as Remote host name. your user name for VAI as username, click “OK”. You need to type your VAI password.</p>
</div>
<div id="commands-you-need-to-learn-for-ex2" class="section level2 hasAnchor">
<h2><span class="header-section-number">2.2</span> Commands you need to learn for Ex2:<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#commands-you-need-to-learn-for-ex2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Cmd1.</strong> <code>pwd</code> - displays the current working directory</p>
<p>It is useful when directory changes are made frequently.</p>
<p><strong>Cmd2.</strong> <code>ls</code> - list content</p>
<p>This command lists directory contents. Without anything specified after ls, it will list the current directory. It can also list content of another directory.</p>
<p><code>ls /varidata/</code></p>
<p><code>ls -lht</code> – show more details of the files.</p>
<p><strong>Cmd3.</strong> <code>cd</code> – change directory</p>
<p>Let’s say you’re in <code>/home/username/documents</code> and you want to go to <code>projects</code>, a subdirectory of documents, type: <code>cd projects</code></p>
<p>Another scenario is if you want to switch to a completely new directory, for example, <code>/home/username/research</code>, you need to type <code>cd</code> followed by the directory’s absolute path: <code>cd /home/username/research</code></p>
<p><em>Tip</em>, <code>./</code> means current working directory. <code>../</code> means the parent directory. <code>/</code> is the root directory. Pay attention to these differences.</p>
<p><strong>Cmd4.</strong> <code>mv</code> – move and rename file</p>
<p>The arguments in <code>mv</code> are similar to the <code>cp</code> command.</p>
<p>To move a file, syntax is mv file_name destination’s directory. For example: <code>mv file.txt /home/username/projects</code>, will move <code>file.txt</code> from current directory to <code>/home/username/projects</code></p>
<p>To rename a file, the syntax is <code>mv old_file_name.ext new_file_name</code></p>
<p><strong>Cmd5.</strong> <code>mkdir</code> – create a new directory</p>
<p>Syntax is mkdir new_directory name. You can create a new directory in the current directory or another directory.</p>
<p><strong>Cmd6.</strong> <code>rm</code> – remove a file</p>
<p><code>rm file_name</code> will delete the file.</p>
<p><code>rm -r dir</code> will delete the whole directory.</p>
<p>Note, <code>rm</code> is permanent. Unlike Window and Mac where deleted files can be recovered from the Trash. Think carefully before you type <code>rm</code>.</p>
<p><strong>Cmd7.</strong> <code>cp</code> – copy a file or a dir</p>
<p>Syntax: <code>cp old_file new_file</code> for file copy.
<code>cp -r old_dir new_dir</code> for directory copy.</p>
<p><strong>Cmd8.</strong> <code>find</code> – look for a file based on its name</p>
<p>Typical usage: <code>find /home/username -name notes.txt</code> will search for a file called <code>notes.txt</code> within your home directory and its subdirectories.</p>
<p><em>Tip</em>, if you want to find all pdf files under the current directory, do find . -name “<em>.pdf”. Here, </em> is called wildcard, it will match any name.</p>
</div>
<div id="ex2-file-navigation" class="section level2 hasAnchor">
<h2><span class="header-section-number">2.3</span> Ex2: file navigation<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#ex2-file-navigation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Use the commands you just learned, go to</li>
</ol>
<p>/varidata/researchtemp/hpctmp/HPC_mini_workshop/Ex2</p>
<ol start="2" style="list-style-type: decimal">
<li><p>List files in this the directory, how many files and directories did you see? Which file was created the earliest?</p></li>
<li><p>Make a new directory in your home directory called “hpc_mini_workshop”</p></li>
<li><p>Try to copy (not to move) one of the fastsq files to hpc_mini_workshop you just created in your home directory.</p></li>
<li><p>Use “find” command to list all the fastq files (file ends with fq) in /varidata/researchtemp/hpctmp/HPC_mini_workshop/Ex2</p></li>
</ol>
</div>
<div id="commands-you-need-to-learn-for-ex-3" class="section level2 hasAnchor">
<h2><span class="header-section-number">2.4</span> Commands you need to learn for Ex 3<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#commands-you-need-to-learn-for-ex-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Cmd9.</strong> <code>head</code> &amp; <code>tail</code> – view the first and last a few rows/lines of a file</p>
<p><em>Usage</em>: <code>head -n 5 file_name</code> will display as standard output (stdout) the first 5 lines/rows of the a file. Without -n, it will default display 10 lines.</p>
<p><strong>Cmd10.</strong> <code>less</code> &amp; <code>more</code> – view content of a file one page at a time.</p>
<p><em>Tip</em>, you can use <code>q</code> key to quit the viewing.</p>
<p><strong>Cmd11.</strong> <code>cat</code> – list the contents of a file as stdout</p>
<p><code>cat</code> (short for concatenate) is one of the most frequently used commands.</p>
<p>To run this command, type <code>cat</code> followed by the file’s name: <code>cat file.txt</code></p>
<p>Combine two files: <code>cat file1 file2</code></p>
<p>It is useful to <strong>pipe</strong> the content of the file into another command.</p>
<div id="so-what-is-pipe" class="section level3 hasAnchor">
<h3><span class="header-section-number">2.4.1</span> So, what is pipe?<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#so-what-is-pipe" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A pipe is a form of redirection (transfer of sdout to other destinations). You can send output from one command/program/process to another command/program/process for further processing. You can do so by using the pipe character <code>|</code>.</p>
<p>Lastly, you can direct the stdout of any command to a new file use <code>&gt;</code>.</p>
<p>For example:</p>
<p><code>bwa mem genome.fa reads.fastq | samtools sort -o output.bam</code></p>
<p><code>cat protein.fa | head -5 &gt; first_5_protein.fa</code></p>
<p><strong>Cmd 12.</strong> <code>grep</code> – search a pattern by line</p>
<p><code>grep “GCGGA” sequence_file.fastq</code> will output lines with GCGGA in it.</p>
<p><strong>Cmd 13.</strong> <code>wc</code> - counting words, lines, and bytes in files</p>
<p>Without any specification, wc will output three numbers.</p>
<p>The most useful is wc -l, it only outputs the line number.</p>
</div>
</div>
<div id="exercise-3-file-viewing-and-manipulation" class="section level2 hasAnchor">
<h2><span class="header-section-number">2.5</span> Exercise 3: File viewing and manipulation<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#exercise-3-file-viewing-and-manipulation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol start="6" style="list-style-type: decimal">
<li><p>Count how many lines in the fastq file you just copied to your home directory.</p></li>
<li><p>Create a file that only has protein sequence name from file:</p></li>
</ol>
<p><code>/varidata/researchtemp/hpctmp/HPC_mini_workshop/Ex2/protein_seq.fa</code></p>
<p>(please copy this file to your home directory first).</p>
<p><em>Hint</em>, use <code>grep</code> to look for pattern that is shared among all protein names; then use redirection to create a new file.</p>
<ol start="8" style="list-style-type: decimal">
<li>Copy a different fastq file from <code>/varidata/researchtemp/hpctmp/HPC_mini_workshop/Ex2/</code> to your home directory, and combine two fq files into a new file called <code>combined.fq</code>.</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="hpc-basics-and-the-job-scheduler.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

</body>

</html>
