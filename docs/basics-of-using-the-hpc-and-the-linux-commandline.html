<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Part 2 Basics of using the HPC and the Linux commandline | Introductory Bioinformatics for VAI Users</title>
  <meta name="description" content="Bioinformatics tutorials with hands-on exercises and examples." />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Part 2 Basics of using the HPC and the Linux commandline | Introductory Bioinformatics for VAI Users" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Bioinformatics tutorials with hands-on exercises and examples." />
  <meta name="github-repo" content="vari-bbc/Intro_to_Linux_for_HPC" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Part 2 Basics of using the HPC and the Linux commandline | Introductory Bioinformatics for VAI Users" />
  
  <meta name="twitter:description" content="Bioinformatics tutorials with hands-on exercises and examples." />
  

<meta name="author" content="The Bioinformatics and Biostatistics Core (BBC)" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="hpc-basics-and-the-job-scheduler.html"/>
<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="assets/kePrint-0.0.1/kePrint.js"></script>
<link href="assets/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> <strong>Introduction</strong></a></li>
<li class="chapter" data-level="2" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html"><i class="fa fa-check"></i><b>2</b> Basics of using the HPC and the Linux commandline</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html#ex-1-log-into-the-hpc"><i class="fa fa-check"></i><b>2.1</b> Ex 1 Log into the HPC</a></li>
<li class="chapter" data-level="2.2" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html#commands-you-need-to-learn-for-ex2"><i class="fa fa-check"></i><b>2.2</b> Commands you need to learn for Ex2:</a></li>
<li class="chapter" data-level="2.3" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html#ex2-file-navigation"><i class="fa fa-check"></i><b>2.3</b> Ex2: file navigation</a></li>
<li class="chapter" data-level="2.4" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html#commands-you-need-to-learn-for-ex-3"><i class="fa fa-check"></i><b>2.4</b> Commands you need to learn for Ex 3</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html#so-what-is-pipe"><i class="fa fa-check"></i><b>2.4.1</b> So, what is pipe?</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="basics-of-using-the-hpc-and-the-linux-commandline.html"><a href="basics-of-using-the-hpc-and-the-linux-commandline.html#exercise-3-file-viewing-and-manipulation"><i class="fa fa-check"></i><b>2.5</b> Exercise 3: File viewing and manipulation</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="hpc-basics-and-the-job-scheduler.html"><a href="hpc-basics-and-the-job-scheduler.html"><i class="fa fa-check"></i><b>3</b> HPC basics and the job scheduler</a></li>
<li class="chapter" data-level="4" data-path="mini-project.html"><a href="mini-project.html"><i class="fa fa-check"></i><b>4</b> <strong>Mini Project</strong></a>
<ul>
<li class="chapter" data-level="4.1" data-path="mini-project.html"><a href="mini-project.html#start-an-interactive-job"><i class="fa fa-check"></i><b>4.1</b> <strong>Start an Interactive Job</strong></a></li>
<li class="chapter" data-level="4.2" data-path="mini-project.html"><a href="mini-project.html#create-directory"><i class="fa fa-check"></i><b>4.2</b> <strong>Create Directory</strong></a></li>
<li class="chapter" data-level="4.3" data-path="mini-project.html"><a href="mini-project.html#copy-fastq-files-to-fastqs-subdirectory"><i class="fa fa-check"></i><b>4.3</b> <strong>Copy Fastq Files To <code>fastqs</code> subdirectory</strong></a></li>
<li class="chapter" data-level="4.4" data-path="mini-project.html"><a href="mini-project.html#use-basic-linux-commands-to-explore-the-fastq-files"><i class="fa fa-check"></i><b>4.4</b> <strong>Use basic Linux commands to explore the fastq files</strong></a></li>
<li class="chapter" data-level="4.5" data-path="mini-project.html"><a href="mini-project.html#working-with-environment-modules"><i class="fa fa-check"></i><b>4.5</b> <strong>Working With Environment Modules</strong></a></li>
<li class="chapter" data-level="4.6" data-path="mini-project.html"><a href="mini-project.html#run-fastqc"><i class="fa fa-check"></i><b>4.6</b> <strong>Run FastQC</strong></a></li>
<li class="chapter" data-level="4.7" data-path="mini-project.html"><a href="mini-project.html#set-up-a-job-to-run-salmon-to-align-the-reads"><i class="fa fa-check"></i><b>4.7</b> <strong>Set up a job to run Salmon to align the reads</strong></a></li>
<li class="chapter" data-level="4.8" data-path="mini-project.html"><a href="mini-project.html#make-a-job-script-to-run-salmon"><i class="fa fa-check"></i><b>4.8</b> <strong>Make a job script to run Salmon</strong></a></li>
<li class="chapter" data-level="4.9" data-path="mini-project.html"><a href="mini-project.html#submit-a-job"><i class="fa fa-check"></i><b>4.9</b> <strong>Submit a Job</strong></a></li>
<li class="chapter" data-level="4.10" data-path="mini-project.html"><a href="mini-project.html#examine-the-standard-output-stdout-and-standard-error-stderr-log-files"><i class="fa fa-check"></i><b>4.10</b> <strong>Examine the Standard Output (stdout) and Standard Error (stderr) log files</strong></a></li>
<li class="chapter" data-level="4.11" data-path="mini-project.html"><a href="mini-project.html#use-grep-to-find-the-tpms-for-a-specific-gene"><i class="fa fa-check"></i><b>4.11</b> <strong>Use grep to find the TPMs for a specific gene</strong></a></li>
<li class="chapter" data-level="4.12" data-path="mini-project.html"><a href="mini-project.html#bonus-use-an-interactive-job-to-run-multiqc-on-the-salmon-and-fastqc-output"><i class="fa fa-check"></i><b>4.12</b> <strong>BONUS: Use an interactive job to run multiQC on the Salmon and FastQC output</strong></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>5</b> <strong>Glossary</strong></a>
<ul>
<li class="chapter" data-level="5.1" data-path="glossary.html"><a href="glossary.html#bash-cheatsheet"><i class="fa fa-check"></i><b>5.1</b> Bash cheatsheet</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introductory Bioinformatics for VAI Users</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basics-of-using-the-hpc-and-the-linux-commandline" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Part 2</span> Basics of using the HPC and the Linux commandline<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#basics-of-using-the-hpc-and-the-linux-commandline" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Here we will learn the basics of using the Linux commandline on the HPC.</p>
<div id="ex-1-log-into-the-hpc" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Ex 1 Log into the HPC<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#ex-1-log-into-the-hpc" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Step 1.</strong> Make sure you are on the VAI network, not VAI guest.</p>
<p><strong>Step 2.</strong>
- For Mac user: open terminal, type <code>ssh you_vai_user_name@submit.hpc.vai.org</code>, and type your password.
- For Windows user, open MobarXterm, click new session under “Session”.
Click on “SSH”, type “submit.hpc.vai.org” as Remote host name, your user name for VAI as username, click “OK”. You need to type your VAI password.</p>
</div>
<div id="commands-you-need-to-learn-for-ex2" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Commands you need to learn for Ex2:<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#commands-you-need-to-learn-for-ex2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Cmd1.</strong> <code>pwd</code> - displays the current working directory</p>
<p>It is useful when directory changes are made frequently.</p>
<p><strong>Cmd2.</strong> <code>ls</code> - list content</p>
<p>This command lists directory contents. Without anything specified after ls, it will list the current directory. It can also list content of another directory. You might not have any file in your home directory at this point, you can type <code>touch file.txt</code> to create your first file.</p>
<p><code>ls /varidata/</code></p>
<p><code>ls -lht</code> – show more details of the files.</p>
<p><strong>Cmd3.</strong> <code>mkdir</code> – create a new directory</p>
<p>Syntax is mkdir new_directory name. You can create a new directory in the current directory or another directory. For example, <code>mkdir projects</code> will create a new directory called “projects” in your home directory.</p>
<p><strong>Cmd4.</strong> <code>mv</code> – move and rename file</p>
<p>The arguments in <code>mv</code> are similar to the <code>cp</code> command.</p>
<p>To move a file, syntax is mv file_name destination’s directory. For example: <code>mv file.txt /home/username/projects</code>, will move <code>file.txt</code> from current directory to <code>/home/username/projects</code></p>
<p>To rename a file, the syntax is <code>mv old_file_name.txt new_file_name.txt</code></p>
<p><strong>Cmd5.</strong> <code>cd</code> – change directory</p>
<p>Let’s say you’re in <code>/home/username/</code> and you want to go to <code>projects</code>, a subdirectory of documents, type: <code>cd projects</code></p>
<p>Another scenario is if you want to switch to a completely new directory, for example, <code>/home/username/research</code>, you need to type <code>cd</code> followed by the directory’s absolute path: <code>cd /home/username/research</code></p>
<p><em>Tip</em>, <code>./</code> means current working directory. <code>../</code> means the parent directory. <code>/</code> is the root directory, <code>~</code> is home directory. Pay attention to these differences.</p>
<p><strong>Cmd6.</strong> <code>rm</code> – remove a file</p>
<p><code>rm file_name</code> will delete the file.</p>
<p><code>rm -r dir</code> will delete the whole directory.</p>
<p>Note, <code>rm</code> is permanent. Unlike Window and Mac where deleted files can be recovered from the Trash. Think carefully before you type <code>rm</code>.</p>
<p><strong>Cmd7.</strong> <code>cp</code> – copy a file or a dir</p>
<p>Syntax: <code>cp old_file new_file</code> for file copy.
<code>cp -r old_dir new_dir</code> for directory copy.</p>
<p><strong>Cmd8.</strong> <code>find</code> – look for a file based on its name</p>
<p>Typical usage: <code>find /home/username -name notes.txt</code> will search for a file called <code>notes.txt</code> within your home directory and its subdirectories.</p>
<p><em>Tip</em>, if you want to find all pdf files under the current directory, do <code>find . -name “*.pdf”</code>. Here, <code>*</code> is called wildcard, it will match any name.</p>
</div>
<div id="ex2-file-navigation" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Ex2: file navigation<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#ex2-file-navigation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Use the commands you just learned, go to</li>
</ol>
<p>/varidata/researchtemp/hpctmp/HPC_mini_workshop/Ex2</p>
<ol start="2" style="list-style-type: decimal">
<li><p>List files in this the directory, how many files and directories did you see? Which file was created the earliest?</p></li>
<li><p>Make a new directory in your home directory called “hpc_mini_workshop”</p></li>
<li><p>Try to copy (not to move) one of the fastsq files to hpc_mini_workshop you just created in your home directory.</p></li>
<li><p>Use “find” command to list all the fastq files (file ends with fq) in /varidata/researchtemp/hpctmp/HPC_mini_workshop/Ex2</p></li>
</ol>
</div>
<div id="commands-you-need-to-learn-for-ex-3" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Commands you need to learn for Ex 3<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#commands-you-need-to-learn-for-ex-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Cmd9.</strong> <code>head</code> &amp; <code>tail</code> – view the first and last a few rows/lines of a file</p>
<p><em>Usage</em>: <code>head -n 5 file_name</code> will display as standard output (stdout) the first 5 lines/rows of the a file. Without -n, it will default display 10 lines.</p>
<p><strong>Cmd10.</strong> <code>less</code> &amp; <code>more</code> – view content of a file one page at a time.</p>
<p><em>Tip</em>, you can use <code>q</code> key to quit the viewing.</p>
<p><strong>Cmd11.</strong> <code>cat</code> – list the contents of a file as stdout</p>
<p><code>cat</code> (short for concatenate) is one of the most frequently used commands.</p>
<p>To run this command, type <code>cat</code> followed by the file’s name: <code>cat file.txt</code></p>
<p>Combine two files: <code>cat file1 file2</code></p>
<p>It is useful to <strong>pipe</strong> the content of the file into another command.</p>
<div id="so-what-is-pipe" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> So, what is pipe?<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#so-what-is-pipe" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A pipe is a form of redirection (transfer of sdout to other destinations). You can send output from one command/program/process to another command/program/process for further processing. You can do so by using the pipe character <code>|</code>.</p>
<p>Lastly, you can direct the stdout of any command to a new file use <code>&gt;</code>.</p>
<p>For example:</p>
<p><code>bwa mem genome.fa reads.fastq | samtools sort -o output.bam</code></p>
<p><code>cat protein.fa | head -5 &gt; first_5_protein.fa</code></p>
<p><strong>Cmd 12.</strong> <code>grep</code> – search a pattern by line</p>
<p><code>grep “GCGGA” sequence_file.fastq</code> will output lines with GCGGA in it.</p>
<p><strong>Cmd 13.</strong> <code>wc</code> - counting words, lines, and bytes in files</p>
<p>Without any specification, wc will output three numbers.</p>
<p>The most useful is wc -l, it only outputs the line number.</p>
</div>
</div>
<div id="exercise-3-file-viewing-and-manipulation" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Exercise 3: File viewing and manipulation<a href="basics-of-using-the-hpc-and-the-linux-commandline.html#exercise-3-file-viewing-and-manipulation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol start="6" style="list-style-type: decimal">
<li><p>Count how many lines in the fastq file you just copied to your home directory.</p></li>
<li><p>Create a file that only has protein sequence name from file:</p></li>
</ol>
<p><code>/varidata/researchtemp/hpctmp/HPC_mini_workshop/Ex2/protein_seq.fa</code></p>
<p>(please copy this file to your home directory first).</p>
<p><em>Hint</em>, use <code>grep</code> to look for pattern that is shared among all protein names; then use redirection to create a new file.</p>
<ol start="8" style="list-style-type: decimal">
<li>Copy a different fastq file from <code>/varidata/researchtemp/hpctmp/HPC_mini_workshop/Ex2/</code> to your home directory, and combine two fq files into a new file called <code>combined.fq</code>.</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="hpc-basics-and-the-job-scheduler.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "static"
}
});
});
</script>

</body>

</html>
